---
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import { SITE_DESCRIPTION, SITE_TITLE } from '../consts';

// NPC characters data
const npcs = [
	{ id: 'king', name: 'ì™•', icon: 'ğŸ‘‘', title: 'ë²„ë“œìŠ¤í”„ë§ ì™•êµ­ì˜ ì§€ë°°ì' },
	{ id: 'knight', name: 'ê¸°ì‚¬ë‹¨ì¥', icon: 'âš”ï¸', title: '18ë…„ì°¨ ì „ì„¤ì˜ ê²€ì‚¬' },
	{ id: 'wizard', name: 'ëŒ€ë§ˆë²•ì‚¬', icon: 'ğŸ§™', title: 'AI ë§ˆë²•ì˜ ëŒ€ê°€' },
	{ id: 'merchant', name: 'ìƒì¸', icon: 'ğŸ’°', title: 'ê¸°ìˆ  ìŠ¤íƒ ìˆ˜ì§‘ê°€' },
	{ id: 'bard', name: 'ìŒìœ ì‹œì¸', icon: 'ğŸµ', title: 'ì´ì•¼ê¸° ì „ë‹¬ì' },
	{ id: 'scholar', name: 'í•™ì', icon: 'ğŸ“š', title: 'INTJ í˜„ì' },
];

const currentNPC = 'king';
---

<!doctype html>
<html lang="ko">
	<head>
		<BaseHead title={`${SITE_TITLE} - Royal Palace`} description={SITE_DESCRIPTION} />
		<style>
			body {
				margin: 0;
				padding: 0;
				background: #2A3939;
				overflow-x: hidden;
			}

			.palace-container {
				max-width: 1200px;
				margin: 0 auto;
				padding: 8px;
				min-height: calc(100vh - 200px);
			}

			/* Palace Scene */
			.palace-scene {
				background: linear-gradient(to bottom, #4A3A5A 0%, #6B4A6B 50%, #8A5A7A 100%);
				border: 3px solid var(--rpg-border-outer);
				box-shadow: 
					inset -2px -2px 0 var(--rpg-window-dark),
					inset 2px 2px 0 var(--rpg-window-light),
					0 0 0 1px var(--rpg-border-inner);
				position: relative;
				height: 400px;
				overflow: hidden;
			}

			/* Throne Room Background */
			.throne-room {
				position: absolute;
				width: 100%;
				height: 100%;
				background-image: 
					repeating-linear-gradient(
						90deg,
						transparent,
						transparent 50px,
						rgba(255, 215, 0, 0.05) 50px,
						rgba(255, 215, 0, 0.05) 52px
					),
					repeating-linear-gradient(
						0deg,
						transparent,
						transparent 50px,
						rgba(255, 215, 0, 0.05) 50px,
						rgba(255, 215, 0, 0.05) 52px
					);
			}

			/* Decorative Elements */
			.palace-decoration {
				position: absolute;
				top: 20px;
				left: 50%;
				transform: translateX(-50%);
				font-size: 48px;
				filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.5));
			}

			.throne {
				position: absolute;
				top: 60px;
				left: 50%;
				transform: translateX(-50%);
				font-size: 64px;
				animation: float 3s ease-in-out infinite;
			}

			@keyframes float {
				0%, 100% { transform: translateX(-50%) translateY(0); }
				50% { transform: translateX(-50%) translateY(-10px); }
			}

			/* NPCs Display */
			.npcs-container {
				position: absolute;
				bottom: 80px;
				width: 100%;
				display: flex;
				justify-content: center;
				gap: 40px;
				padding: 0 20px;
			}

			.npc {
				text-align: center;
				cursor: pointer;
				transition: all 0.2s ease;
			}

			.npc:hover {
				transform: translateY(-8px);
			}

			.npc-sprite {
				font-size: 48px;
				display: block;
				filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.5));
			}

			.npc-name {
				background: var(--rpg-header-bg);
				color: var(--rpg-text-normal);
				padding: 2px 8px;
				border: 1px solid var(--rpg-border-outer);
				font-size: 10px;
				font-family: 'Galmuri9', 'NeoDunggeunmo', monospace;
				margin-top: 4px;
				display: inline-block;
				text-shadow: 1px 1px 0 var(--rpg-text-shadow);
			}

			.npc.active .npc-name {
				background: var(--rpg-gold);
				color: var(--rpg-header-bg);
			}

			/* Dialog Box */
			.dialog-container {
				margin-top: 8px;
			}

			.dialog-box {
				background: var(--rpg-window-bg);
				border: 3px solid var(--rpg-border-outer);
				box-shadow: 
					inset -2px -2px 0 var(--rpg-window-dark),
					inset 2px 2px 0 var(--rpg-window-light),
					0 0 0 1px var(--rpg-border-inner);
				padding: 16px;
				position: relative;
				min-height: 200px;
			}

			.speaker-label {
				position: absolute;
				top: -12px;
				left: 20px;
				background: var(--rpg-header-bg);
				padding: 4px 12px;
				border: 2px solid var(--rpg-border-outer);
				color: var(--rpg-gold);
				font-family: 'Galmuri14', 'NeoDunggeunmo', monospace;
				font-size: 14px;
				text-shadow: 1px 1px 0 var(--rpg-text-shadow);
				display: flex;
				align-items: center;
				gap: 6px;
			}

			.dialog-content {
				color: var(--rpg-text-normal);
				font-family: 'Galmuri14', 'NeoDunggeunmo', monospace;
				font-size: 14px;
				line-height: 1.8;
				text-shadow: 1px 1px 0 var(--rpg-text-shadow);
				padding-top: 8px;
			}

			.dialog-content h3 {
				color: var(--rpg-gold);
				font-size: 16px;
				margin: 16px 0 8px 0;
				text-shadow: 2px 2px 0 var(--rpg-text-shadow);
			}

			.dialog-content p {
				margin-bottom: 12px;
			}

			.dialog-content ul {
				list-style: none;
				padding-left: 0;
			}

			.dialog-content li {
				padding: 4px 0;
				padding-left: 20px;
				position: relative;
			}

			.dialog-content li::before {
				content: 'â–¶';
				position: absolute;
				left: 0;
				color: var(--rpg-stat-orange);
			}

			/* Choice Buttons */
			.choices-container {
				margin-top: 16px;
				padding-top: 16px;
				border-top: 1px solid var(--rpg-border-outer);
				display: flex;
				flex-wrap: wrap;
				gap: 8px;
			}

			.choice-btn {
				background: var(--rpg-window-dark);
				border: 1px solid var(--rpg-border-outer);
				padding: 6px 12px;
				color: var(--rpg-text-normal);
				font-family: 'Galmuri11', 'NeoDunggeunmo', monospace;
				font-size: 12px;
				cursor: pointer;
				transition: all 0.1s ease;
				text-shadow: 1px 1px 0 var(--rpg-text-shadow);
				box-shadow: 
					inset -1px -1px 0 var(--rpg-window-dark),
					inset 1px 1px 0 var(--rpg-window-light);
			}

			.choice-btn:hover {
				background: var(--rpg-window-mid);
				color: var(--rpg-gold);
				transform: translateY(-2px);
			}

			.choice-btn::before {
				content: 'â—† ';
				color: var(--rpg-gold);
			}

			/* Stats Panel */
			.stats-panel {
				background: var(--rpg-window-bg);
				border: 2px solid var(--rpg-border-outer);
				padding: 12px;
				margin-top: 8px;
				box-shadow: 
					inset -1px -1px 0 var(--rpg-window-dark),
					inset 1px 1px 0 var(--rpg-window-light);
			}

			.stats-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
				gap: 8px;
			}

			.stat-item {
				background: var(--rpg-window-dark);
				border: 1px solid var(--rpg-border-outer);
				padding: 6px;
				display: flex;
				justify-content: space-between;
				align-items: center;
			}

			.stat-label {
				color: var(--rpg-text-normal);
				font-size: 11px;
				font-family: 'Galmuri11', 'NeoDunggeunmo', monospace;
			}

			.stat-value {
				color: var(--rpg-stat-orange);
				font-size: 12px;
				font-family: 'Galmuri11', 'NeoDunggeunmo', monospace;
				text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.5);
			}

			/* Mobile Responsive */
			@media (max-width: 768px) {
				.palace-scene {
					height: 300px;
				}

				.npcs-container {
					gap: 20px;
					bottom: 60px;
				}

				.npc-sprite {
					font-size: 36px;
				}

				.dialog-content {
					font-size: 12px;
				}
			}

			/* Message indicator */
			.message-indicator {
				position: absolute;
				bottom: 8px;
				right: 12px;
				color: var(--rpg-gold);
				font-size: 12px;
				animation: blink 1s infinite;
			}

			@keyframes blink {
				0%, 50% { opacity: 1; }
				51%, 100% { opacity: 0; }
			}
		</style>
	</head>
	<body>
		<Header />
		<div class="palace-container">
			<div class="palace-scene">
				<div class="throne-room">
					<div class="palace-decoration">âšœï¸ âšœï¸ âšœï¸</div>
					<div class="throne">ğŸ‘‘</div>
					<div class="npcs-container">
						{npcs.map((npc) => (
							<div class={`npc ${npc.id === currentNPC ? 'active' : ''}`} data-npc={npc.id}>
								<span class="npc-sprite">{npc.icon}</span>
								<span class="npc-name">{npc.name}</span>
							</div>
						))}
					</div>
				</div>
			</div>

			<div class="dialog-container">
				<div class="dialog-box">
					<div class="speaker-label">
						<span>ğŸ‘‘</span>
						<span>ë²„ë“œìŠ¤í”„ë§ ì™•êµ­ì˜ ì™•</span>
					</div>
					<div class="dialog-content">
						<p>
							"ì–´ì„œì˜¤ê²Œ, ìš©ê°í•œ ë°©ë¬¸ìì—¬! ë‚˜ëŠ” ì´ ë²„ë“œìŠ¤í”„ë§ ì™•êµ­ì„ ë‹¤ìŠ¤ë¦¬ëŠ” ìì¼ì„¸.
							ìë„¤ê°€ ì´ê³³ê¹Œì§€ ì°¾ì•„ì˜¨ ê²ƒì€ ë¶„ëª… íŠ¹ë³„í•œ ì´ìœ ê°€ ìˆì„ ê²ƒì´ì•¼."
						</p>

						<h3>ì™•êµ­ì˜ ì—­ì‚¬</h3>
						<p>
							"ì´ ì™•êµ­ì€ 18ë…„ ì „, í•œ ì Šì€ ê°œë°œìê°€ ì²« 'Hello World'ë¥¼ ì™¸ì¹˜ë©° ì‹œì‘ë˜ì—ˆë‹¤ë„¤.
							ê·¸ ì´í›„ë¡œ ìˆ˜ë§ì€ í”„ë¡œì íŠ¸ë“¤ì´ ì´ê³³ì„ ê±°ì³ê°”ê³ , ê°ê°ì€ ì™•êµ­ì˜ ì†Œì¤‘í•œ ë³´ë¬¼ì´ ë˜ì—ˆì§€."
						</p>

						<h3>ì™•ì‹¤ êµ¬ì„±ì›</h3>
						<ul>
							<li><strong>ì™•</strong>: INTJ ì„±í–¥ì˜ ê°œë°œì, ë‘ ì™•ìì˜ ì•„ë²„ì§€</li>
							<li><strong>ê¸°ì‚¬ë‹¨ì¥</strong>: Spring Boot, Node.jsë¡œ ë¬´ì¥í•œ ë°±ì—”ë“œ ì „ì‚¬</li>
							<li><strong>ëŒ€ë§ˆë²•ì‚¬</strong>: Claude Codeì™€ AI ë§ˆë²•ì„ ë‹¤ë£¨ëŠ” í˜„ì</li>
							<li><strong>ìƒì¸</strong>: Docker, Kubernetes, AWS ë“± ê·€ì¤‘í•œ ê¸°ìˆ ì„ ê±°ë˜</li>
							<li><strong>ìŒìœ ì‹œì¸</strong>: ê¸°ìˆ  ë¸”ë¡œê·¸ë¥¼ í†µí•´ ì§€ì‹ì„ ì „íŒŒí•˜ëŠ” ì´ì•¼ê¸°ê¾¼</li>
							<li><strong>í•™ì</strong>: ëŠì„ì—†ì´ ìƒˆë¡œìš´ ê¸°ìˆ ì„ ì—°êµ¬í•˜ëŠ” íƒêµ¬ì</li>
						</ul>

						<h3>ì™•êµ­ì˜ ë³´ë¬¼</h3>
						<p>
							"ìš°ë¦¬ ì™•êµ­ì—ëŠ” Vue.jsì˜ ë°˜ì‘í˜• ê°‘ì˜·, TypeScriptì˜ íƒ€ì… ì•ˆì „ ë°©íŒ¨,
							PostgreSQLì˜ ë°ì´í„° ì„±ë°° ë“± ìˆ˜ë§ì€ ë³´ë¬¼ë“¤ì´ ìˆë‹¤ë„¤. 
							ê·¸ë¦¬ê³  ìµœê·¼ì—ëŠ” AIë¼ëŠ” ê°•ë ¥í•œ ë§ˆë²•ì˜ í˜ì„ ì†ì— ë„£ì—ˆì§€."
						</p>

						<h3>ì™•ì˜ ì² í•™</h3>
						<p>
							<em>"ì™„ë²½í•œ ì½”ë“œëŠ” ì—†ì§€ë§Œ, ë” ë‚˜ì€ ì½”ë“œëŠ” í•­ìƒ ì¡´ì¬í•œë‹¤"</em><br/>
							"ì´ê²ƒì´ ìš°ë¦¬ ì™•êµ­ì˜ ëª¨í† ì¼ì„¸. ëŠì„ì—†ì´ ê°œì„ í•˜ê³ , í•™ìŠµí•˜ë©°, ì„±ì¥í•˜ëŠ” ê²ƒ.
							ê·¸ê²ƒì´ ì§„ì •í•œ ê°œë°œìì˜ ê¸¸ì´ë¼ê³  ë¯¿ê³  ìˆë‹¤ë„¤."
						</p>
					</div>
					<div class="choices-container">
						<button class="choice-btn">ì™•êµ­ì˜ ì—­ì‚¬ ë” ë“£ê¸°</button>
						<button class="choice-btn">ê¸°ì‚¬ë‹¨ì¥ê³¼ ëŒ€í™”í•˜ê¸°</button>
						<button class="choice-btn">ëŒ€ë§ˆë²•ì‚¬ë¥¼ ë§Œë‚˜ê¸°</button>
						<button class="choice-btn">ìƒì¸ê³¼ ê±°ë˜í•˜ê¸°</button>
						<button class="choice-btn">ì‘ë³„ ì¸ì‚¬</button>
					</div>
					<span class="message-indicator">â–¼</span>
				</div>
			</div>

			<div class="stats-panel">
				<div class="stats-grid">
					<div class="stat-item">
						<span class="stat-label">ê²½í—˜ì¹˜</span>
						<span class="stat-value">18ë…„</span>
					</div>
					<div class="stat-item">
						<span class="stat-label">ì§ì—…</span>
						<span class="stat-value">í’€ìŠ¤íƒ ê°œë°œì</span>
					</div>
					<div class="stat-item">
						<span class="stat-label">ì„±í–¥</span>
						<span class="stat-value">INTJ</span>
					</div>
					<div class="stat-item">
						<span class="stat-label">ì£¼ë¬´ê¸°</span>
						<span class="stat-value">Claude Code</span>
					</div>
					<div class="stat-item">
						<span class="stat-label">ê¸¸ë“œ</span>
						<span class="stat-value">BirdSpring</span>
					</div>
					<div class="stat-item">
						<span class="stat-label">ì—°ë½ì²˜</span>
						<span class="stat-value">@luv20100918</span>
					</div>
				</div>
			</div>
		</div>
		<Footer />

		<script>
			// NPC interaction
			document.querySelectorAll('.npc').forEach(npc => {
				npc.addEventListener('click', function() {
					const npcId = this.dataset.npc;
					console.log('Talking to:', npcId);
					// Here you could add dialog changes based on NPC
				});
			});

			// Choice buttons interaction
			document.querySelectorAll('.choice-btn').forEach(btn => {
				btn.addEventListener('click', function() {
					console.log('Selected:', this.textContent);
					// Here you could add dialog progression
				});
			});
		</script>
	</body>
</html>